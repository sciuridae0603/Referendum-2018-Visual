(function(e){function t(t){for(var s,d,l=t[0],r=t[1],o=t[2],u=0,m=[];u<l.length;u++)d=l[u],n[d]&&m.push(n[d][0]),n[d]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);c&&c(t);while(m.length)m.shift()();return a.push.apply(a,o||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],s=!0,l=1;l<i.length;l++){var r=i[l];0!==n[r]&&(s=!1)}s&&(a.splice(t--,1),e=d(d.s=i[0]))}return e}var s={},n={app:0},a=[];function d(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,d),i.l=!0,i.exports}d.m=e,d.c=s,d.d=function(e,t,i){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},d.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(d.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)d.d(i,s,function(t){return e[t]}.bind(null,s));return i},d.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=t,l=l.slice();for(var o=0;o<l.length;o++)t(l[o]);var c=r;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"56d7":function(e,t,i){"use strict";i.r(t);i("5df3"),i("1c4c"),i("ac6a"),i("cadf"),i("551c"),i("097d");var s=i("2b0e"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[e._m(0),i("div",{staticClass:"ts container"},[e._m(1),i("div",{staticClass:"ts stackable grid"},[i("div",{staticClass:"six wide column"},[i("Country",{attrs:{id:"map",stroke:e.stroke,scale:e.scale,width:e.width,height:e.height,lon:e.lon/100,lat:e.lat/100,fill:e.fill,fit:e.fit}})],1),e._m(2)]),i("span",{attrs:{id:"updateAt"}})])])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ts active dimmer",attrs:{id:"loader"}},[i("div",{staticClass:"ts loader"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ts grid"},[i("div",{staticClass:"sixteen wide column"},[i("div",{staticClass:"ts stackable secondary menu"},[i("a",{staticClass:"item",attrs:{id:"navNotice"}}),i("div",{staticClass:"right menu"},[i("div",{staticClass:"ts fluid stackable buttons",attrs:{id:"ReferendumBtns"}})])])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ten wide column",attrs:{id:"Referendum"}},[i("br"),i("div",{staticClass:"ts fluid medium divided statistics"},[i("div",{staticClass:"statistic"},[i("div",{staticClass:"label",attrs:{id:"AgreeP"}},[e._v("0%")]),i("div",{staticClass:"value",attrs:{id:"Agree"}},[e._v("0")]),i("div",{staticClass:"label"},[e._v("同意票數")])]),i("div",{staticClass:"statistic"},[i("div",{staticClass:"label",attrs:{id:"DisagreeP"}},[e._v("0%")]),i("div",{staticClass:"value",attrs:{id:"Disagree"}},[e._v("0")]),i("div",{staticClass:"label"},[e._v("不同意票數")])])]),i("br"),i("div",{staticClass:"ts fluid medium divided statistics"},[i("div",{staticClass:"statistic"},[i("div",{staticClass:"label",attrs:{id:"EffectiveP"}},[e._v("0%")]),i("div",{staticClass:"value",attrs:{id:"Effective"}},[e._v("0")]),i("div",{staticClass:"label"},[e._v("有效票數")])]),i("div",{staticClass:"statistic"},[i("div",{staticClass:"label",attrs:{id:"InvalidP"}},[e._v("0%")]),i("div",{staticClass:"value",attrs:{id:"Invalid"}},[e._v("0")]),i("div",{staticClass:"label"},[e._v("無效票數")])])]),i("br"),i("div",{staticClass:"ts fluid medium divided statistics"},[i("div",{staticClass:"statistic"},[i("div",{staticClass:"value",attrs:{id:"Votes"}},[e._v("0")]),i("div",{staticClass:"label"},[e._v("投票數")])]),i("div",{staticClass:"statistic"},[i("div",{staticClass:"value",attrs:{id:"VotingRights"}},[e._v("0")]),i("div",{staticClass:"label"},[e._v("投票權人數")])])]),i("br"),i("div",{staticClass:"ts fluid medium divided statistics"},[i("div",{staticClass:"statistic"},[i("div",{staticClass:"value",attrs:{id:"VoteRate"}},[e._v("0")]),i("div",{staticClass:"label"},[e._v("投票率(%)")])]),i("div",{staticClass:"statistic"},[i("div",{staticClass:"value",attrs:{id:"EffectiveVotingRights"}},[e._v("0")]),i("div",{staticClass:"label"},[e._v("有效同意票數對投票權人數百分比(%)")])])])])}],d=i("5519"),l={name:"app",components:{Country:d["Country"]},mounted:function(){this.resizeHandler(),window.addEventListener("resize",this.resizeHandler)},methods:{resizeHandler:function(){this.width=window.innerWidth-30,this.height=window.innerHeight-30}},data:{fit:!0,width:800,height:600,lon:12135,lat:2364,stroke:"#000000",fill:"#F9F9F9",scale:7800}},r=l,o=i("2877"),c=Object(o["a"])(r,n,a,!1,null,null,null);c.options.__file="App.vue";var u=c.exports;s["a"].config.productionTip=!1,i("845f"),new s["a"]({render:function(e){return e(u)}}).$mount("#app");var m={},v={},f="Referendum",g={};function p(){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&(m=JSON.parse(e.responseText),console.log(m),document.getElementById("updateAt").innerHTML="資料更新於 : "+new Date(m["updateAt"]).toLocaleString("zh-TW",{timeZone:"UTC"}),"Referendum"==f&&h(),document.getElementById("loader").style.display="none")},e.open("GET","results.json",!0),e.send()}function h(){document.getElementById("navNotice").innerHTML="公投",g["Referendum"]={},g["nowPos"]="",g["Referendum"]["nowCT"]="";var e=function(e){var t=document.createElement("button");t.className="ts button",t.innerHTML=e,t.onclick=function(){Array.from(document.getElementsByClassName("ts button")).forEach(function(e){e.className="ts button"}),tippy(".country").destroyAll(),t.className="ts active button",v["Referendum"]=m["Referendum"][e],i(v["Referendum"][g["Referendum"]["nowCT"]][g["Referendum"]["nowCT"]])},document.getElementById("ReferendumBtns").appendChild(t)};for(var t in m["Referendum"])e(t);function i(e){s.update(e["Agree"]),document.getElementById("AgreeP").innerHTML=Math.round(e["Agree"]/(e["Agree"]+e["Disagree"])*100)+"%",n.update(e["Disagree"]),document.getElementById("DisagreeP").innerHTML=Math.round(e["Disagree"]/(e["Agree"]+e["Disagree"])*100)+"%",a.update(e["Effective"]),document.getElementById("EffectiveP").innerHTML=Math.round(e["Effective"]/(e["Effective"]+e["Invalid"])*100)+"%",d.update(e["Invalid"]),document.getElementById("InvalidP").innerHTML=Math.round(e["Invalid"]/(e["Effective"]+e["Invalid"])*100)+"%",l.update(e["Votes"]),r.update(e["VotingRights"]),o.update(e["VoteRate"]+"%"),c.update(e["EffectiveVotingRights"]+"%")}document.body.onmousedown=function(){g["nowPos"]&&(g["Referendum"]["nowCT"]=g["nowPos"],i(v["Referendum"][g["Referendum"]["nowCT"]][g["Referendum"]["nowCT"]]),Array.from(document.getElementsByClassName("country")).forEach(function(e){e.style.fill="white"}),document.getElementById(g["Referendum"]["nowCT"]).style.fill=C)};var s=new Odometer({el:document.getElementById("Agree"),value:0,format:"d",theme:"minimal"}),n=new Odometer({el:document.getElementById("Disagree"),value:0,format:"d",theme:"minimal"}),a=new Odometer({el:document.getElementById("Effective"),value:0,format:"d",theme:"minimal"}),d=new Odometer({el:document.getElementById("Invalid"),value:0,format:"d",theme:"minimal"}),l=new Odometer({el:document.getElementById("Votes"),value:0,format:"d",theme:"minimal"}),r=new Odometer({el:document.getElementById("VotingRights"),value:0,format:"d",theme:"minimal"}),o=new Odometer({el:document.getElementById("VoteRate"),value:0,format:"",theme:"minimal"}),c=new Odometer({el:document.getElementById("EffectiveVotingRights"),value:0,format:"",theme:"minimal"})}p();var C="black",y="white";Array.from(document.getElementsByClassName("country")).forEach(function(e){e.style.fill="white",e.addEventListener("mouseover",function(){g["nowPos"]=e.id,e.style.fill=C}),e.addEventListener("mouseout",function(){g["Referendum"]["nowCT"]!=g["nowPos"]&&(e.style.fill=y),g["nowPos"]=""})})},"845f":function(e,t,i){}});
//# sourceMappingURL=app.12cfae9d.js.map